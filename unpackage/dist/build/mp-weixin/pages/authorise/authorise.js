(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/authorise/authorise"],{1553:function(n,e,t){"use strict";(function(n){t("0e61"),t("921b");o(t("66fd"));var e=o(t("33da"));function o(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("543d")["createPage"])},"33da":function(n,e,t){"use strict";t.r(e);var o=t("eadb"),r=t("a9ea");for(var i in r)"default"!==i&&function(n){t.d(e,n,function(){return r[n]})}(i);t("8da5");var u,a=t("f0c5"),c=Object(a["a"])(r["default"],o["b"],o["c"],!1,null,"11c081cc",null,!1,o["a"],u);e["default"]=c.exports},"8da5":function(n,e,t){"use strict";var o=t("96f1"),r=t.n(o);r.a},"96f1":function(n,e,t){},a9ea:function(n,e,t){"use strict";t.r(e);var o=t("f869"),r=t.n(o);for(var i in o)"default"!==i&&function(n){t.d(e,n,function(){return o[n]})}(i);e["default"]=r.a},eadb:function(n,e,t){"use strict";var o={"uni-swiper-dot":()=>t.e("components/uni-swiper-dot/uni-swiper-dot").then(t.bind(null,"3f23"))},r=function(){var n=this,e=n.$createElement;n._self._c},i=[];t.d(e,"b",function(){return r}),t.d(e,"c",function(){return i}),t.d(e,"a",function(){return o})},f869:function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t("5820"),r=function(){return t.e("components/neil-modal/neil-modal").then(t.bind(null,"3a25"))},i=function(){return t.e("components/uni-swiper-dot/uni-swiper-dot").then(t.bind(null,"3f23"))},u=function(){return t.e("components/uni-section/uni-section").then(t.bind(null,"c7fb"))},a={components:{neilModal:r,uniSwiperdot:i,uniSection:u},data:function(){return{show2:!1,userInfo:{},show1:!0,info:[{url:"https://ww1.yunjiexi.club/2020/03/21/bW0EL.png",content:"1"},{url:"https://ww1.yunjiexi.club/2020/03/21/bPi3b.png",content:"2"},{url:"https://ww1.yunjiexi.club/2020/03/21/bPx79.png",content:"3"}],dotsStyles:{backgroundColor:"rgba(83, 200, 249,0.3)",border:"1px rgba(83, 200, 249,0.3) solid",color:"#fff",selectedBackgroundColor:"rgba(83, 200, 249,0.9)",selectedBorder:"1px rgba(83, 200, 249,0.9) solid",bottom:100},current:0}},methods:{change:function(n){this.current=n.detail.current},callback:function(n){n.detail.authSetting["scope.userInfo"]&&(this.show1=!0)},modalTap:function(n){this.show2=!0},getUserInfo:function(){var e=this;n.getUserInfo({provider:"weixin",success:function(n){e.userInfo=n.userInfo},fail:function(e){var t=e.errMsg;~t.indexOf("uni.login")&&(t="请在登录页面完成登录操作",n.showToast({title:"请重新登陆",icon:"none"}),n.reLaunch({url:"/pages/authorise/authorise"}))}})},mpGetUserInfo:function(e){if("getUserInfo:ok"===e.detail.errMsg){this.userInfo=e.detail.userInfo;var t=this;n.login({provider:"weixin",success:function(e){n.setStorageSync("code",e.code),t.userInfo.code=e.code,(0,o.request)({url:"/api/user/MiniProgramLogin",data:{code:t.userInfo.code,nickname:t.userInfo.nickName,headimage:t.userInfo.avatarUrl,gender:t.userInfo.gender,province:t.userInfo.province,city:t.userInfo.city,country:t.userInfo.country},method:"POST"}).then(function(e){1!=e.data.code?n.showModal({title:e.data.errMsg,showCancel:!1}):(n.showModal({title:e.data.errMsg,showCancel:!1}),n.setStorageSync("token",e.data.data.userinfo.token),n.setStorageSync("login",e.data.data.userinfo),n.switchTab({url:"/pages/anchor/anchor"}))})}})}else this.show1=!1}}};e.default=a}).call(this,t("543d")["default"])}},[["1553","common/runtime","common/vendor"]]]);